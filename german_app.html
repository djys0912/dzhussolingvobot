<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ò–∑—É—á–µ–Ω–∏–µ –Ω–µ–º–µ—Ü–∫–æ–≥–æ —è–∑—ã–∫–∞</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* iOS-–ø–æ–¥–æ–±–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            background-color: #f2f2f7;
            color: #000;
            padding: 0;
            margin: 0;
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
        body.dark-theme {
            background-color: #000;
            color: #fff;
        }
        .header {
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(60, 60, 67, 0.15);
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .dark-theme .header {
            background-color: rgba(30, 30, 30, 0.7);
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        }
        .header h1 {
            font-size: 17px;
            font-weight: 600;
            text-align: center;
            flex-grow: 1;
        }
        .header-button {
            color: #007AFF;
            font-size: 17px;
            font-weight: 400;
            background: none;
            border: none;
            padding: 0 8px;
            cursor: pointer;
        }
        .dark-theme .header-button {
            color: #0A84FF;
        }
        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 16px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        .word-card {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: slide-up 0.3s ease forwards;
        }
        .dark-theme .word-card {
            background-color: #1c1c1e;
            box-shadow: 0 1px 5px rgba(255, 255, 255, 0.05);
        }
        .word {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #000;
        }
        .dark-theme .word {
            color: #fff;
        }
        .progress-info {
            font-size: 15px;
            color: #8E8E93;
            margin-bottom: 16px;
        }
        .progress-bar-container {
            width: 100%;
            height: 8px;
            background-color: #E5E5EA;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 24px;
        }
        .dark-theme .progress-bar-container {
            background-color: #3A3A3C;
        }
        .progress-bar {
            height: 100%;
            background-color: #34C759;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .timer-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }
        .timer {
            font-size: 24px;
            font-weight: 500;
            color: #FF9500;
        }
        .dark-theme .timer {
            color: #FF9F0A;
        }
        .option-buttons {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .option-button {
            width: 100%;
            padding: 16px;
            background-color: #F2F2F7;
            border: 1px solid #C7C7CC;
            border-radius: 10px;
            font-size: 17px;
            font-weight: 500;
            color: #000;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .dark-theme .option-button {
            background-color: #2C2C2E;
            border: 1px solid #38383A;
            color: #fff;
        }
        .option-button:active {
            background-color: #E5E5EA;
            transform: scale(0.98);
        }
        .dark-theme .option-button:active {
            background-color: #3A3A3C;
        }
        .buttons-row {
            display: flex;
            justify-content: space-between;
            margin-top: 16px;
            gap: 12px;
        }
        .action-button {
            flex: 1;
            padding: 14px 20px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
        }
        .primary-button {
            background-color: #007AFF;
            color: white;
        }
        .dark-theme .primary-button {
            background-color: #0A84FF;
        }
        .secondary-button {
            background-color: #F2F2F7;
            color: #007AFF;
            border: 1px solid #C7C7CC;
        }
        .dark-theme .secondary-button {
            background-color: #2C2C2E;
            color: #0A84FF;
            border: 1px solid #38383A;
        }
        .correct {
            background-color: #34C759 !important;
            color: white !important;
            border-color: #34C759 !important;
        }
        .dark-theme .correct {
            background-color: #30D158 !important;
            border-color: #30D158 !important;
        }
        .incorrect {
            background-color: #FF3B30 !important;
            color: white !important;
            border-color: #FF3B30 !important;
        }
        .dark-theme .incorrect {
            background-color: #FF453A !important;
            border-color: #FF453A !important;
        }
        .tab-bar {
            display: flex;
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-top: 1px solid rgba(60, 60, 67, 0.15);
            padding: 8px 0;
        }
        .dark-theme .tab-bar {
            background-color: rgba(30, 30, 30, 0.7);
            border-top: 1px solid rgba(255, 255, 255, 0.15);
        }
        .tab {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 0;
            cursor: pointer;
        }
        .tab-icon {
            font-size: 24px;
            margin-bottom: 4px;
            color: #8E8E93;
        }
        .tab-label {
            font-size: 10px;
            color: #8E8E93;
        }
        .tab.active .tab-icon,
        .tab.active .tab-label {
            color: #007AFF;
        }
        .dark-theme .tab.active .tab-icon,
        .dark-theme .tab.active .tab-label {
            color: #0A84FF;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal.show {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: #fff;
            border-radius: 14px;
            width: 85%;
            max-width: 340px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }
        .dark-theme .modal-content {
            background-color: #2C2C2E;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
        }
        .modal-title {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 16px;
            text-align: center;
        }
        .modal-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
        @keyframes slide-up {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        /* –°–∫—Ä—ã—Ç—ã–µ —ç–∫—Ä–∞–Ω—ã */
        .screen {
            display: none;
            height: 100%;
            flex-direction: column;
            flex: 1;
        }
        .screen.active {
            display: flex;
        }
        /* –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤ */
        .word-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .word-list-item {
            background-color: #fff;
            border-radius: 10px;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);
        }
        .dark-theme .word-list-item {
            background-color: #1c1c1e;
            box-shadow: 0 1px 5px rgba(255, 255, 255, 0.05);
        }
        .word-list-text {
            display: flex;
            flex-direction: column;
        }
        .word-list-item-title {
            font-size: 17px;
            font-weight: 500;
            margin-bottom: 4px;
        }
        .word-list-item-subtitle {
            font-size: 14px;
            color: #8E8E93;
        }
        .checkmark {
            color: #34C759;
            font-size: 20px;
        }
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-card {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);
        }
        .dark-theme .stats-card {
            background-color: #1c1c1e;
            box-shadow: 0 1px 5px rgba(255, 255, 255, 0.05);
        }
        .stats-title {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .stats-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .stats-label {
            font-size: 15px;
            color: #8E8E93;
        }
        .stats-value {
            font-size: 15px;
            font-weight: 500;
        }
        /* –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #000;
                color: #fff;
            }
            .header {
                background-color: rgba(30, 30, 30, 0.7);
                border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            }
            .header-button {
                color: #0A84FF;
            }
            .word-card {
                background-color: #1c1c1e;
                box-shadow: 0 1px 5px rgba(255, 255, 255, 0.05);
            }
            .word {
                color: #fff;
            }
            .progress-bar-container {
                background-color: #3A3A3C;
            }
            .timer {
                color: #FF9F0A;
            }
            .option-button {
                background-color: #2C2C2E;
                border: 1px solid #38383A;
                color: #fff;
            }
            .option-button:active {
                background-color: #3A3A3C;
            }
            .primary-button {
                background-color: #0A84FF;
            }
            .secondary-button {
                background-color: #2C2C2E;
                color: #0A84FF;
                border: 1px solid #38383A;
            }
            .correct {
                background-color: #30D158 !important;
                border-color: #30D158 !important;
            }
            .incorrect {
                background-color: #FF453A !important;
                border-color: #FF453A !important;
            }
            .tab-bar {
                background-color: rgba(30, 30, 30, 0.7);
                border-top: 1px solid rgba(255, 255, 255, 0.15);
            }
            .tab.active .tab-icon,
            .tab.active .tab-label {
                color: #0A84FF;
            }
            .modal-content {
                background-color: #2C2C2E;
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
            }
            .word-list-item {
                background-color: #1c1c1e;
                box-shadow: 0 1px 5px rgba(255, 255, 255, 0.05);
            }
            .stats-card {
                background-color: #1c1c1e;
                box-shadow: 0 1px 5px rgba(255, 255, 255, 0.05);
            }
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–≤ -->
    <div id="learn-screen" class="screen active">
        <div class="header">
            <button class="header-button" id="menu-button">–ú–µ–Ω—é</button>
            <h1>–ò–∑—É—á–µ–Ω–∏–µ —Å–ª–æ–≤</h1>
            <button class="header-button" id="stats-button">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        </div>
        
        <div class="container">
            <div class="word-card">
                <div class="word" id="current-word">der Tisch</div>
                <div class="progress-info">–ü—Ä–æ–≥—Ä–µ—Å—Å: <span id="word-progress">125</span>/500 –±–∞–ª–ª–æ–≤</div>
                
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar" style="width: 25%"></div>
                </div>
                
                <div class="timer-container">
                    <div class="timer" id="timer">10</div>
                </div>
                
                <div class="option-buttons" id="options-container">
                    <button class="option-button" data-correct="true">—Å—Ç–æ–ª</button>
                    <button class="option-button">—Å—Ç—É–ª</button>
                    <button class="option-button">–¥–∏–≤–∞–Ω</button>
                    <button class="option-button">–ø–æ–ª–∫–∞</button>
                </div>
                
                <div class="buttons-row">
                    <button class="action-button secondary-button" id="known-button">–Ø –∑–Ω–∞—é —ç—Ç–æ —Å–ª–æ–≤–æ</button>
                </div>
            </div>
        </div>
        
        <div class="tab-bar">
            <div class="tab active" data-screen="learn-screen">
                <div class="tab-icon">üìö</div>
                <div class="tab-label">–£—á–∏—Ç—å</div>
            </div>
            <div class="tab" data-screen="known-screen">
                <div class="tab-icon">üß†</div>
                <div class="tab-label">–í—ã—É—á–µ–Ω–Ω—ã–µ</div>
            </div>
            <div class="tab" data-screen="errors-screen">
                <div class="tab-icon">‚ùå</div>
                <div class="tab-label">–û—à–∏–±–∫–∏</div>
            </div>
            <div class="tab" data-screen="stats-screen">
                <div class="tab-icon">üìä</div>
                <div class="tab-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            </div>
        </div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω –≤—ã—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ -->
    <div id="known-screen" class="screen">
        <div class="header">
            <button class="header-button" id="back-button-known">–ù–∞–∑–∞–¥</button>
            <h1>–í—ã—É—á–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞</h1>
            <div style="width: 50px;"></div>
        </div>
        
        <div class="container">
            <div class="word-list" id="known-words-list">
                <div class="word-list-item">
                    <div class="word-list-text">
                        <div class="word-list-item-title">der Hund</div>
                        <div class="word-list-item-subtitle">–ü—Ä–æ–≥—Ä–µ—Å—Å: 500/500 –±–∞–ª–ª–æ–≤</div>
                    </div>
                    <div class="checkmark">‚úì</div>
                </div>
                <div class="word-list-item">
                    <div class="word-list-text">
                        <div class="word-list-item-title">die Katze</div>
                        <div class="word-list-item-subtitle">–ü—Ä–æ–≥—Ä–µ—Å—Å: 500/500 –±–∞–ª–ª–æ–≤</div>
                    </div>
                    <div class="checkmark">‚úì</div>
                </div>
                <!-- –î—Ä—É–≥–∏–µ –≤—ã—É—á–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
        
        <div class="tab-bar">
            <div class="tab" data-screen="learn-screen">
                <div class="tab-icon">üìö</div>
                <div class="tab-label">–£—á–∏—Ç—å</div>
            </div>
            <div class="tab active" data-screen="known-screen">
                <div class="tab-icon">üß†</div>
                <div class="tab-label">–í—ã—É—á–µ–Ω–Ω—ã–µ</div>
            </div>
            <div class="tab" data-screen="errors-screen">
                <div class="tab-icon">‚ùå</div>
                <div class="tab-label">–û—à–∏–±–∫–∏</div>
            </div>
            <div class="tab" data-screen="stats-screen">
                <div class="tab-icon">üìä</div>
                <div class="tab-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            </div>
        </div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω —Å–ª–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏ -->
    <div id="errors-screen" class="screen">
        <div class="header">
            <button class="header-button" id="back-button-errors">–ù–∞–∑–∞–¥</button>
            <h1>–°–ª–æ–≤–∞ —Å –æ—à–∏–±–∫–∞–º–∏</h1>
            <div style="width: 50px;"></div>
        </div>
        
        <div class="container">
            <div class="word-list" id="error-words-list">
                <div class="word-list-item">
                    <div class="word-list-text">
                        <div class="word-list-item-title">das Fenster</div>
                        <div class="word-list-item-subtitle">–ü—Ä–æ–≥—Ä–µ—Å—Å: 150/500 –±–∞–ª–ª–æ–≤</div>
                    </div>
                    <button class="action-button primary-button" style="padding: 8px 12px; font-size: 14px;">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
                </div>
                <div class="word-list-item">
                    <div class="word-list-text">
                        <div class="word-list-item-title">die Lampe</div>
                        <div class="word-list-item-subtitle">–ü—Ä–æ–≥—Ä–µ—Å—Å: 220/500 –±–∞–ª–ª–æ–≤</div>
                    </div>
                    <button class="action-button primary-button" style="padding: 8px 12px; font-size: 14px;">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
                </div>
                <!-- –î—Ä—É–≥–∏–µ —Å–ª–æ–≤–∞ —Å –æ—à–∏–±–∫–∞–º–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            
            <button class="action-button primary-button" id="repeat-all-button" style="margin-top: 16px;">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞ —Å –æ—à–∏–±–∫–∞–º–∏</button>
        </div>
        
        <div class="tab-bar">
            <div class="tab" data-screen="learn-screen">
                <div class="tab-icon">üìö</div>
                <div class="tab-label">–£—á–∏—Ç—å</div>
            </div>
            <div class="tab" data-screen="known-screen">
                <div class="tab-icon">üß†</div>
                <div class="tab-label">–í—ã—É—á–µ–Ω–Ω—ã–µ</div>
            </div>
            <div class="tab active" data-screen="errors-screen">
                <div class="tab-icon">‚ùå</div>
                <div class="tab-label">–û—à–∏–±–∫–∏</div>
            </div>
            <div class="tab" data-screen="stats-screen">
                <div class="tab-icon">üìä</div>
                <div class="tab-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            </div>
        </div>
    </div>
    <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
    <div id="stats-screen" class="screen">
        <div class="header">
            <button class="header-button" id="back-button-stats">–ù–∞–∑–∞–¥</button>
            <h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
            <div style="width: 50px;"></div>
        </div>
        
        <div class="container">
            <div class="stats-card">
                <div class="stats-title">–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                
                <div class="stats-row">
                    <div class="stats-label">–í—ã—É—á–µ–Ω–æ —Å–ª–æ–≤:</div>
                    <div class="stats-value" id="total-known-words">2</div>
                </div>
                
                <div class="stats-row">
                    <div class="stats-label">–°–ª–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ:</div>
                    <div class="stats-value" id="in-progress-words">8</div>
                </div>
                
                <div class="stats-row">
                    <div class="stats-label">–°–ª–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏:</div>
                    <div class="stats-value" id="error-words-count">2</div>
                </div>
                
                <div class="stats-row">
                    <div class="stats-label">–í—Å–µ–≥–æ –Ω–∞–±—Ä–∞–Ω–æ –±–∞–ª–ª–æ–≤:</div>
                    <div class="stats-value" id="total-score">1250</div>
                </div>
            </div>
            
            <div class="stats-card">
                <div class="stats-title">–¢–æ–ø —Å–ª–æ–≤</div>
                
                <div class="word-list" id="top-words-list">
                    <div class="word-list-item">
                        <div class="word-list-text">
                            <div class="word-list-item-title">der Hund</div>
                            <div class="word-list-item-subtitle">500 –±–∞–ª–ª–æ–≤</div>
                        </div>
                    </div>
                    <div class="word-list-item">
                        <div class="word-list-text">
                            <div class="word-list-item-title">die Katze</div>
                            <div class="word-list-item-subtitle">500 –±–∞–ª–ª–æ–≤</div>
                        </div>
                    </div>
                    <!-- –î—Ä—É–≥–∏–µ —Ç–æ–ø-—Å–ª–æ–≤–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
        
        <div class="tab-bar">
            <div class="tab" data-screen="learn-screen">
                <div class="tab-icon">üìö</div>
                <div class="tab-label">–£—á–∏—Ç—å</div>
            </div>
            <div class="tab" data-screen="known-screen">
                <div class="tab-icon">üß†</div>
                <div class="tab-label">–í—ã—É—á–µ–Ω–Ω—ã–µ</div>
            </div>
            <div class="tab" data-screen="errors-screen">
                <div class="tab-icon">‚ùå</div>
                <div class="tab-label">–û—à–∏–±–∫–∏</div>
            </div>
            <div class="tab active" data-screen="stats-screen">
                <div class="tab-icon">üìä</div>
                <div class="tab-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ—Ç–≤–µ—Ç–∞ -->
    <div id="result-modal" class="modal">
        <div class="modal-content">
            <div class="modal-title" id="result-title">–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</div>
            <div id="result-message">–í—ã –ø–æ–ª—É—á–∏–ª–∏ 85 –±–∞–ª–ª–æ–≤.</div>
            <div class="modal-buttons">
                <button class="action-button primary-button" id="continue-button">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        let tg = window.Telegram.WebApp;
        tg.expand();

        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º—ã (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)
        if (tg.colorScheme === 'dark') {
            document.body.classList.add('dark-theme');
        }

        // –î–∞–Ω–Ω—ã–µ –æ —Å–ª–æ–≤–∞—Ö (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞)
        const words = [
            {
                word: "der Tisch",
                translation: "—Å—Ç–æ–ª",
                progress: 125,
                options: ["—Å—Ç–æ–ª", "—Å—Ç—É–ª", "–¥–∏–≤–∞–Ω", "–ø–æ–ª–∫–∞"]
            },
            {
                word: "das Fenster",
                translation: "–æ–∫–Ω–æ",
                progress: 50,
                options: ["–æ–∫–Ω–æ", "–¥–≤–µ—Ä—å", "—Å—Ç–µ–Ω–∞", "–ø–æ–ª"]
            },
            {
                word: "die Lampe",
                translation: "–ª–∞–º–ø–∞",
                progress: 220,
                options: ["–ª–∞–º–ø–∞", "—Å–≤–µ—Ç", "–ª—é—Å—Ç—Ä–∞", "—Ç–æ—Ä—à–µ—Ä"]
            },
            {
                word: "der Stuhl",
                translation: "—Å—Ç—É–ª",
                progress: 320,
                options: ["—Å—Ç—É–ª", "—Ç–∞–±—É—Ä–µ—Ç", "–∫—Ä–µ—Å–ª–æ", "–¥–∏–≤–∞–Ω"]
            },
            {
                word: "die T√ºr",
                translation: "–¥–≤–µ—Ä—å",
                progress: 180,
                options: ["–¥–≤–µ—Ä—å", "–æ–∫–Ω–æ", "–≤–æ—Ä–æ—Ç–∞", "–∫–∞–ª–∏—Ç–∫–∞"]
            }
        ];

        // –í—ã—É—á–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
        const knownWords = [
            {
                word: "der Hund",
                progress: 500
            },
            {
                word: "die Katze",
                progress: 500
            }
        ];

        // –°–ª–æ–≤–∞ —Å –æ—à–∏–±–∫–∞–º–∏
        const errorWords = [
            {
                word: "das Fenster",
                progress: 150
            },
            {
                word: "die Lampe",
                progress: 220
            }
        ];

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–æ–≤–∞
        let currentWordIndex = 0;
        let timerInterval;
        let timeLeft = 10;

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–æ–≤–∞
        function showCurrentWord() {
            const currentWord = words[currentWordIndex];
            document.getElementById('current-word').textContent = currentWord.word;
            document.getElementById('word-progress').textContent = currentWord.progress;
            document.getElementById('progress-bar').style.width = (currentWord.progress / 500 * 100) + '%';
            // –û—á–∏—â–∞–µ–º –∏ –∑–∞–ø–æ–ª–Ω—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –æ–ø—Ü–∏—è–º–∏
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
            const shuffledOptions = [...currentWord.options].sort(() => 0.5 - Math.random());
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-button';
                button.textContent = option;
                button.dataset.correct = (option === currentWord.translation).toString();
                button.addEventListener('click', handleOptionClick);
                optionsContainer.appendChild(button);
            });
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            resetTimer();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞
        function handleOptionClick(event) {
            clearInterval(timerInterval);
            const selectedOption = event.target;
            const isCorrect = selectedOption.dataset.correct === 'true';
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
            if (isCorrect) {
                selectedOption.classList.add('correct');
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –±–∞–ª–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
                const earnedPoints = Math.floor(timeLeft * 10);
                words[currentWordIndex].progress += earnedPoints;
                if (words[currentWordIndex].progress > 500) {
                    words[currentWordIndex].progress = 500;
                }
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
                document.getElementById('result-title').textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
                document.getElementById('result-message').textContent = `–í—ã –ø–æ–ª—É—á–∏–ª–∏ ${earnedPoints} –±–∞–ª–ª–æ–≤. –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: ${words[currentWordIndex].progress}/500`;
            } else {
                selectedOption.classList.add('incorrect');
                // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
                const options = document.querySelectorAll('.option-button');
                options.forEach(option => {
                    if (option.dataset.correct === 'true') {
                        option.classList.add('correct');
                    }
                });
                // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª–æ–≤–æ –≤ —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –µ–≥–æ —Ç–∞–º –Ω–µ—Ç
                if (!errorWords.some(word => word.word === words[currentWordIndex].word)) {
                    errorWords.push({
                        word: words[currentWordIndex].word,
                        progress: words[currentWordIndex].progress
                    });
                }
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
                document.getElementById('result-title').textContent = '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ';
                document.getElementById('result-message').textContent = `–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${words[currentWordIndex].translation}`;
            }
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏
            const options = document.querySelectorAll('.option-button');
            options.forEach(option => {
                option.removeEventListener('click', handleOptionClick);
                option.style.pointerEvents = 'none';
            });
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('result-modal').classList.add('show');
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ –∏ –∑–∞–ø—É—Å–∫–∞ —Ç–∞–π–º–µ—Ä–∞
        function resetTimer() {
            clearInterval(timerInterval);
            timeLeft = 10;
            document.getElementById('timer').textContent = timeLeft;
            timerInterval = setInterval(() => {
                timeLeft -= 1;
                document.getElementById('timer').textContent = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ–≤—É –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
                    goToNextWord();
                }
            }, 1000);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ–≤—É
        function goToNextWord() {
            currentWordIndex = (currentWordIndex + 1) % words.length;
            showCurrentWord();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤—ã—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤
        function showKnownWords() {
            const knownWordsList = document.getElementById('known-words-list');
            knownWordsList.innerHTML = '';
            if (knownWords.length === 0) {
                const emptyMessage = document.createElement('div');
                emptyMessage.textContent = '–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –≤—ã—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤.';
                emptyMessage.style.textAlign = 'center';
                emptyMessage.style.padding = '20px';
                emptyMessage.style.color = '#8E8E93';
                knownWordsList.appendChild(emptyMessage);
                return;
            }
            knownWords.forEach(word => {
                const item = document.createElement('div');
                item.className = 'word-list-item';
                const textContainer = document.createElement('div');
                textContainer.className = 'word-list-text';
                const title = document.createElement('div');
                title.className = 'word-list-item-title';
                title.textContent = word.word;
                const subtitle = document.createElement('div');
                subtitle.className = 'word-list-item-subtitle';
                subtitle.textContent = `–ü—Ä–æ–≥—Ä–µ—Å—Å: ${word.progress}/500 –±–∞–ª–ª–æ–≤`;
                textContainer.appendChild(title);
                textContainer.appendChild(subtitle);
                const checkmark = document.createElement('div');
                checkmark.className = 'checkmark';
                checkmark.textContent = '‚úì';
                item.appendChild(textContainer);
                item.appendChild(checkmark);
                knownWordsList.appendChild(item);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–ª–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏
        function showErrorWords() {
            const errorWordsList = document.getElementById('error-words-list');
            errorWordsList.innerHTML = '';
            if (errorWords.length === 0) {
                const emptyMessage = document.createElement('div');
                emptyMessage.textContent = '–£ –≤–∞—Å –Ω–µ—Ç —Å–ª–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏.';
                emptyMessage.style.textAlign = 'center';
                emptyMessage.style.padding = '20px';
                emptyMessage.style.color = '#8E8E93';
                errorWordsList.appendChild(emptyMessage);
                return;
            }
            errorWords.forEach(word => {
                const item = document.createElement('div');
                item.className = 'word-list-item';
                const textContainer = document.createElement('div');
                textContainer.className = 'word-list-text';
                const title = document.createElement('div');
                title.className = 'word-list-item-title';
                title.textContent = word.word;
                const subtitle = document.createElement('div');
                subtitle.className = 'word-list-item-subtitle';
                subtitle.textContent = `–ü—Ä–æ–≥—Ä–µ—Å—Å: ${word.progress}/500 –±–∞–ª–ª–æ–≤`;
                textContainer.appendChild(title);
                textContainer.appendChild(subtitle);
                const repeatButton = document.createElement('button');
                repeatButton.className = 'action-button primary-button';
                repeatButton.textContent = '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å';
                repeatButton.style.padding = '8px 12px';
                repeatButton.style.fontSize = '14px';
                item.appendChild(textContainer);
                item.appendChild(repeatButton);
                errorWordsList.appendChild(item);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStatistics() {
            document.getElementById('total-known-words').textContent = knownWords.length;
            document.getElementById('in-progress-words').textContent = words.length;
            document.getElementById('error-words-count').textContent = errorWords.length;
            // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤
            const totalScore =
                knownWords.reduce((total, word) => total + word.progress, 0) +
                words.reduce((total, word) => total + word.progress, 0);
            document.getElementById('total-score').textContent = totalScore;
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–ø-—Å–ª–æ–≤–∞
            const topWordsList = document.getElementById('top-words-list');
            topWordsList.innerHTML = '';
            // –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —Å–ª–æ–≤–∞ –∏ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É
            const allWords = [...knownWords